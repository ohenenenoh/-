<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>熊本 · 九州行程 · 行動版</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Vue 3 CDN -->
  <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
  <style>
    body {
      background: #f5f3ec;
    }
    .muji-card {
      background: #fbfbf7;
      box-shadow: 0 10px 30px rgba(15, 23, 42, 0.08);
    }
    .muji-pill {
      border-radius: 999px;
      border-width: 1px;
      border-style: solid;
      border-color: rgba(148, 163, 184, 0.4);
      padding: 0.3rem 0.8rem;
    }
    .timeline-dot {
      width: 11px;
      height: 11px;
      border-radius: 999px;
      border: 2px solid #0f172a;
      background: #f5f3ec;
    }
    .app-shell {
      min-height: 100vh;
      max-width: 480px;
      margin: 0 auto;
      background: radial-gradient(circle at top, #fdfdf8 0, #f3f1e6 40%, #ebe6da 100%);
    }
    .scrollbar-thin::-webkit-scrollbar {
      width: 4px;
    }
    .scrollbar-thin::-webkit-scrollbar-thumb {
      background-color: rgba(156, 163, 175, 0.6);
      border-radius: 999px;
    }
  </style>
</head>
<body class="antialiased text-neutral-900">
<div id="app" class="app-shell flex flex-col">

  <!-- Top App Bar -->
  <header class="px-4 pt-5 pb-3 flex items-center justify-between">
    <div class="flex items-center gap-3">
      <div class="w-9 h-9 rounded-2xl bg-neutral-900 text-neutral-50 flex items-center justify-center text-xs tracking-[0.18em]">
        TRIP
      </div>
      <div class="flex flex-col">
        <h1 class="text-base font-semibold tracking-wide text-neutral-900">
          {{ tripTitle }}
        </h1>
        <p class="text-[11px] text-neutral-500">
          {{ tripDate }} · {{ days.length }} 天行程
        </p>
      </div>
    </div>
    <button
      class="text-[11px] px-3 py-1 rounded-full border border-neutral-300 bg-white/70 text-neutral-700"
      @click="openMyMap"
    >
      開啟我的地圖
    </button>
  </header>

  <!-- Segmented Control: 行程 / 地圖 -->
  <div class="px-4 pb-3">
    <div class="bg-neutral-900/5 rounded-full p-1 flex text-[12px]">
      <button
        class="flex-1 py-1.5 rounded-full transition-colors"
        :class="viewMode === 'itinerary' ? 'bg-white shadow-sm text-neutral-900' : 'text-neutral-500'"
        @click="viewMode = 'itinerary'"
      >
        行程
      </button>
      <button
        class="flex-1 py-1.5 rounded-full transition-colors"
        :class="viewMode === 'map' ? 'bg-white shadow-sm text-neutral-900' : 'text-neutral-500'"
        @click="viewMode = 'map'"
      >
        地圖
      </button>
    </div>
  </div>

  <!-- 內容區 -->
  <main class="flex-1 px-4 pb-5">

    <!-- 航班 + 匯率卡片 -->
    <section class="muji-card rounded-3xl px-4 pt-4 pb-3 mb-4">
      <!-- 航班資訊 -->
      <div class="mb-3">
        <h2 class="text-sm font-semibold text-neutral-900 mb-2">航班資訊</h2>
        <div class="grid grid-cols-2 gap-3 text-[11px] text-neutral-700">
          <div class="border border-neutral-200 rounded-2xl px-3 py-2 bg-white/70">
            <p class="text-neutral-500 mb-1">去程</p>
            <p class="font-medium">
              {{ flightInfo.depart.date }}（{{ flightInfo.depart.weekday }}）
            </p>
            <p class="mt-0.5">出發時間：{{ flightInfo.depart.time }}</p>
            <p class="mt-0.5">航班：{{ flightInfo.depart.flightNo }}</p>
            <p class="mt-0.5 text-[10px] text-neutral-500">
              {{ flightInfo.depart.route }}
            </p>
          </div>
          <div class="border border-neutral-200 rounded-2xl px-3 py-2 bg-white/70">
            <p class="text-neutral-500 mb-1">回程</p>
            <p class="font-medium">
              {{ flightInfo.return.date }}（{{ flightInfo.return.weekday }}）
            </p>
            <p class="mt-0.5">出發時間：{{ flightInfo.return.time }}</p>
            <p class="mt-0.5">航班：{{ flightInfo.return.flightNo }}</p>
            <p class="mt-0.5 text-[10px] text-neutral-500">
              {{ flightInfo.return.route }}
            </p>
          </div>
        </div>
      </div>

      <!-- 匯率小工具 -->
      <div>
        <h2 class="text-sm font-semibold text-neutral-900 mb-2">匯率小工具</h2>
        <p class="text-[11px] text-neutral-500 mb-2">
          目前預設：1 TWD ≈ {{ fx.rateTwdToJpy }} JPY（可依實際匯率自行修改）
        </p>
        <div class="flex items-center gap-2 text-[11px]">
          <div class="flex-1">
            <label class="block text-neutral-500 mb-1">台幣 TWD</label>
            <input
              type="number"
              inputmode="decimal"
              v-model="fx.twd"
              @input="updateFromTwd"
              class="w-full rounded-full border border-neutral-300 px-3 py-1.5 text-[11px] bg-white/80 focus:outline-none focus:ring-1 focus:ring-neutral-500"
              placeholder="輸入台幣"
            />
          </div>
          <div class="pt-5 text-neutral-500 text-xs">≈</div>
          <div class="flex-1">
            <label class="block text-neutral-500 mb-1">日圓 JPY</label>
            <input
              type="number"
              inputmode="decimal"
              v-model="fx.jpy"
              @input="updateFromJpy"
              class="w-full rounded-full border border-neutral-300 px-3 py-1.5 text-[11px] bg-white/80 focus:outline-none focus:ring-1 focus:ring-neutral-500"
              placeholder="輸入日圓"
            />
          </div>
        </div>
      </div>
    </section>

    <!-- 行程模式 -->
    <section v-if="viewMode === 'itinerary'" class="muji-card rounded-3xl px-4 pt-4 pb-3">
      <!-- 日期選擇 -->
      <div class="flex items-center justify-between mb-3">
        <div class="flex gap-2">
          <button
            v-for="(day, index) in days"
            :key="index"
            class="px-3 py-1.5 text-[11px] rounded-full transition-all"
            :class="currentDayIndex === index
              ? 'bg-neutral-900 text-neutral-50 shadow-sm'
              : 'bg-white/80 text-neutral-600 border border-neutral-200'"
            @click="currentDayIndex = index"
          >
            第 {{ index + 1 }} 天
          </button>
        </div>
        <div class="text-[11px] text-neutral-500">
          {{ currentDay.date }} · {{ currentDay.city }}
        </div>
      </div>

      <!-- 時間軸行程 -->
      <div class="max-h-[60vh] overflow-y-auto pr-1 scrollbar-thin">
        <ol class="relative border-l border-neutral-200 pl-4">
          <li
            v-for="(item, idx) in currentDay.stops"
            :key="idx"
            class="mb-4 last:mb-2"
          >
            <div class="absolute -left-[6px] mt-1 timeline-dot"></div>
            <div class="flex items-start justify-between gap-3">
              <div>
                <p class="text-[11px] font-medium text-neutral-500">
                  {{ item.time }}
                </p>
                <p class="text-sm font-semibold text-neutral-900 mt-0.5">
                  {{ item.title }}
                </p>
                <p v-if="item.note" class="text-[11px] text-neutral-500 mt-0.5">
                  {{ item.note }}
                </p>
              </div>
              <div class="flex flex-col items-end gap-1">
                <span
                  v-if="item.tag"
                  class="muji-pill text-[10px] bg-white/70"
                >
                  {{ item.tag }}
                </span>
                <button
                  v-if="item.mapUrl"
                  class="text-[10px] text-sky-700 underline underline-offset-2"
                  @click="openExternalMap(item.mapUrl)"
                >
                  地圖
                </button>
              </div>
            </div>
          </li>
        </ol>
      </div>
    </section>

    <!-- 地圖模式 -->
    <section v-else class="muji-card rounded-3xl px-4 pt-4 pb-4 flex flex-col gap-3">
      <p class="text-[12px] text-neutral-600">
        點擊下方按鈕，可開啟整理好的 Google 我的地圖，查看所有景點與路線。
      </p>
      <button
        class="w-full py-2.5 text-[13px] rounded-full bg-neutral-900 text-neutral-50 font-medium shadow-sm"
        @click="openMyMap"
      >
        在 Google Maps 開啟我的地圖
      </button>
      <p class="text-[11px] text-neutral-400">
        小技巧：開啟後可以把我的地圖加入「已加星號的地點」，之後在 Google Maps 主畫面就可以快速找到。
      </p>
    </section>
  </main>
</div>

<script>
const { createApp } = Vue;

createApp({
  data() {
    return {
      tripTitle: '熊本 · 九州小旅行',
      tripDate: '12/28 ～ 1/4',
      viewMode: 'itinerary',
      currentDayIndex: 0,
      myMapUrl: 'https://www.google.com/maps/d/u/0/edit?mid=1YXjJyNyDDuUmN8SwXTAgrjVtihAQwWk&usp=sharing',

      // 航班資訊（民國 114=2025, 115=2026）
      flightInfo: {
        depart: {
          date: '114/12/28',
          weekday: '六',
          time: '09:00',
          flightNo: 'CI198',
          route: '高雄 KHH → 熊本 KMJ'
        },
        return: {
          date: '115/01/04',
          weekday: '日',
          time: '13:25',
          flightNo: 'CI199',
          route: '熊本 KMJ → 高雄 KHH'
        }
      },

      // 匯率資料（預設用 1 TWD ≈ 4.96 JPY）
      fx: {
        rateTwdToJpy: 4.96,
        twd: '',
        jpy: ''
      },

      days: [
        {
          date: '12/28',
          city: '熊本半日遊',
          stops: [
            { time: '09:00-12:25', title: '抵達熊本', note: '抵達後準備展開熊本第一天行程', tag: '交通' },
            { time: '12:30', title: 'JR售票處領取 JR Pass', note: '前往熊本站 JR 售票處領取 5 日 JR Pass（約 15 分鐘）', tag: 'JR Pass' },
            { time: '13:00', title: '前往飯店寄放行李', note: '前往 (JR 水道町) 永安國際精選酒店寄放行李（約 15 分鐘）', tag: '住宿' },
            { time: '13:30', title: '勝烈亭新市街本店 午餐', note: '享用炸豬排午餐（約 60 分鐘）', tag: '午餐' },
            { time: '14:30', title: '熊本城', note: '參觀天守閣及博物館，開放 9:00～16:30，建議停留約 90 分鐘', tag: '景點' },
            { time: '16:00', title: '城彩苑', note: '逛古風商店街及品嘗小吃，營業時間 9:00～18:00，約 60 分鐘', tag: '散步' },
            { time: '17:00', title: '古町周邊散步', note: '周邊街區自由探索約 45 分鐘', tag: '散步' },
            { time: '18:00', title: '馬櫻下通店 晚餐', note: '品嘗當地馬肉料理，約 90 分鐘', tag: '晚餐' },
            { time: '19:30', title: '返回飯店休息', note: '回 (JR 水道町) 永安國際精選酒店休息', tag: '住宿' }
          ]
        },
        {
          date: '12/29',
          city: '三角一日遊',
          stops: [
            { time: '10:21-11:29', title: '搭 JR A 列車前往三角', note: '從熊本搭 JR A 列車前往三角', tag: '交通' },
            { time: '11:40', title: '千蘭拉麵 午餐', note: '在三角享用拉麵午餐（約 60 分鐘）', tag: '午餐' },
            { time: '12:50', title: '三角西港散步', note: '漫步三角西港，欣賞江戶時代倉庫建築與海港風情（約 90 分鐘）', tag: '景點' },
            { time: '14:20', title: '浦島資料屋', note: '參訪並品嘗起司蛋糕（約 30 分鐘）', tag: '咖啡甜點' },
            { time: '15:00', title: '三角西港珈琲屋 和蘭館', note: '咖啡休憩約 40 分鐘', tag: '咖啡' },
            { time: '16:00', title: '搭 JR 返回熊本', note: '約 1 小時車程返回熊本', tag: '交通' },
            { time: '17:30', title: '熊本晚餐自由安排', note: '市區自由覓食', tag: '晚餐' },
            { time: '—', title: '宿 永安國際精選酒店', note: '回到熊本同一間住宿', tag: '住宿' }
          ]
        },
        {
          date: '12/30',
          city: '熊本 → 福岡',
          stops: [
            { time: '09:00', title: '熊本前往福岡', note: '搭 JR 移動至福岡，約 2 小時', tag: '交通' },
            { time: '11:30', title: '抵達福岡・寄放行李', note: '至 APA 飯店（東平博多）寄放行李', tag: '住宿' },
            { time: '12:00', title: '福岡車站周邊美食', note: '藥院燒肉、明太子麵包 The Full Full Hakata、可麗露 leclerc 等', tag: '午餐' },
            { time: '14:00', title: '太宰府天滿宮', note: '參拜及參觀，開放 6:30～18:30，建議停留約 90 分鐘', tag: '景點' },
            { time: '16:00', title: '市區觀光與逛街', note: '櫛田神社、福岡市區觀光、中洲川端商圈、天神地下街等', tag: '逛街' },
            { time: '18:30', title: '福岡晚餐', note: '推薦博多拉麵或中洲屋台街', tag: '晚餐' },
            { time: '—', title: '入住 APA 東平站博多飯店', note: '回飯店休息', tag: '住宿' }
          ]
        },
        {
          date: '12/31',
          city: '福岡 → 門司港',
          stops: [
            { time: '09:00', title: '福岡出發前往門司港', note: '約 1 小時車程', tag: '交通' },
            { time: '10:30', title: '門司港車站與周邊', note: '漫步懷舊建築，約 60 分鐘', tag: '景點' },
            { time: '11:30', title: '舊門司稅關', note: '免費開放 9:00～17:00，含咖啡廳休息約 45 分鐘', tag: '景點' },
            { time: '12:30', title: '海鮮午餐', note: '門司港當地海鮮料理', tag: '午餐' },
            { time: '14:00', title: '藍翼吊橋', note: '觀賞開橋秀，停留約 20 分鐘', tag: '景點' },
            { time: '15:00', title: '門司港海峽廣場', note: '購物休憩、欣賞海港風光約 90 分鐘', tag: '逛街' },
            { time: '17:00', title: '返回福岡', note: '回福岡市區，晚餐及住宿', tag: '交通' }
          ]
        },
        {
          date: '1/1',
          city: '福岡 → 由布院',
          stops: [
            { time: '10:11', title: '搭布院之森列車', note: '從福岡搭乘布院之森列車前往由布院，約 2 小時', tag: '交通' },
            { time: '12:27', title: '抵達由布院・寄放行李', note: '行李寄放於由布院 lamp 住宿', tag: '住宿' },
            { time: '13:00', title: '由布院美術館', note: '預約參觀時間', tag: '景點' },
            { time: '15:00', title: '湯之坪街道散步', note: '逛老街、品嘗各種小吃', tag: '逛街' },
            { time: '16:00', title: '自由時間', note: '悠閒享受由布院氛圍', tag: '自由' },
            { time: '—', title: '晚餐與住宿由布院 lamp', note: '回住宿休息', tag: '住宿' }
          ]
        },
        {
          date: '1/2',
          city: '由布院 → 阿蘇',
          stops: [
            { time: '08:00', title: '由布院金鱗湖', note: '早晨散步，之後前往 JR 大分轉乘 12:09 車班', tag: '景點' },
            { time: '11:00', title: '前往阿蘇草千里', note: '約 2 小時車程，途中可於新草千里景觀餐廳 & 草千里咖啡焙煎所用餐', tag: '交通' },
            { time: '13:00', title: '阿蘇草千里', note: '欣賞壯麗草原風光，開放 9:00～17:00，停留約 90 分鐘', tag: '景點' },
            { time: '14:30', title: '阿蘇火山博物館', note: '開放 9:00～17:00，參觀約 60 分鐘', tag: '景點' },
            { time: '15:30', title: '阿蘇車站周邊', note: '阿蘇牛奶、起司布丁與門前商店街美食', tag: '美食' },
            { time: '17:00', title: '入住 Fairfield by Marriott Aso', note: '辦理入住休息', tag: '住宿' }
          ]
        },
        {
          date: '1/3',
          city: '阿蘇 → 熊本',
          stops: [
            { time: '09:00', title: '阿蘇周邊散步／溫泉', note: '上午簡單散步或溫泉體驗', tag: '放鬆' },
            { time: '12:00', title: '搭 JR 返回熊本', note: '約 1.5 小時車程', tag: '交通' },
            { time: '下午', title: '熊本自由活動', note: '市區自由逛街或購物', tag: '自由' },
            { time: '晚上', title: '熊本晚餐', note: '安排當地美食', tag: '晚餐' },
            { time: '—', title: '住宿 熊本銀座通大和 Roynet', note: '入住熊本最後一晚', tag: '住宿' }
          ]
        },
        {
          date: '1/4',
          city: '熊本 → 台灣',
          stops: [
            { time: '早上', title: '退房與自由活動', note: '退房後可於附近購買伴手禮', tag: '自由' },
            { time: '11:30', title: '前往機場', note: '預留時間至熊本機場', tag: '交通' },
            { time: '13:25', title: '熊本出發返回台灣', note: '搭機回台，結束旅程', tag: '航班' }
          ]
        }
      ]
    };
  },
  computed: {
    currentDay() {
      return this.days[this.currentDayIndex];
    }
  },
  methods: {
    openMyMap() {
      if (this.myMapUrl) {
        window.open(this.myMapUrl, '_blank');
      }
    },
    openExternalMap(url) {
      window.open(url, '_blank');
    },
    // TWD 改動時計算 JPY
    updateFromTwd() {
      const v = parseFloat(this.fx.twd);
      if (isNaN(v)) {
        this.fx.jpy = '';
        return;
      }
      this.fx.jpy = Math.round(v * this.fx.rateTwdToJpy);
    },
    // JPY 改動時計算 TWD
    updateFromJpy() {
      const v = parseFloat(this.fx.jpy);
      if (isNaN(v)) {
        this.fx.twd = '';
        return;
      }
      if (!this.fx.rateTwdToJpy || this.fx.rateTwdToJpy === 0) {
        this.fx.twd = '';
        return;
      }
      this.fx.twd = (v / this.fx.rateTwdToJpy).toFixed(0);
    }
  }
}).mount('#app');
</script>

</body>
</html>
